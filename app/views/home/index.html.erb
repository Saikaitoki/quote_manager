<div class="container py-5">
  <div class="text-center">
    <h1 class="display-5 fw-bold mb-4">見積書管理システム</h1>
    <p class="lead mb-4">入力モードを選択して開始してください。</p>

    <div class="card shadow-sm mx-auto mb-5" style="max-width: 500px;">
      <div class="card-body p-4">
        <h5 class="card-title fw-bold mb-3">入力モード設定</h5>
        
        <div class="btn-group w-100 mb-4" role="group" aria-label="Input Mode">
          <input type="radio" class="btn-check" name="inputMode" id="modeScanner" autocomplete="off" onchange="setInputMode('scanner')">
          <label class="btn btn-outline-primary" for="modeScanner">
            <i class="bi bi-upc-scan me-2"></i>スキャナー (テンキー有)
          </label>

          <input type="radio" class="btn-check" name="inputMode" id="modeManual" autocomplete="off" onchange="setInputMode('manual')">
          <label class="btn btn-outline-secondary" for="modeManual">
            <i class="bi bi-keyboard me-2"></i>手入力 (テンキー無)
          </label>
        </div>

        <div class="d-grid gap-2">
           <%= link_to "見積一覧へ進む", quotes_path, class: "btn btn-dark btn-lg" %>
        </div>
      </div>
    </div>

    <script>
      function setInputMode(mode) {
        localStorage.setItem('numpadEnabled', mode === 'scanner');
      }

      // Initialize
      document.addEventListener("turbo:load", () => {
        const isEnabled = localStorage.getItem('numpadEnabled') === 'true';
        if (isEnabled) {
          document.getElementById('modeScanner').checked = true;
        } else {
          document.getElementById('modeManual').checked = true;
        }
      });
    </script>
  </div>
</div>

